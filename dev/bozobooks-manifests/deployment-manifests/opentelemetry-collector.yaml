apiVersion: opentelemetry.io/v1alpha1
kind: OpenTelemetryCollector
metadata:
  name: bozo-book-opentelemetry
  namespace: opentelemetry
spec:
  mode: daemonset
  config: |
      receivers:
        otlp:
          protocols:
            grpc:
              endpoint: 0.0.0.0:4317
      processors:
        batch: {}
      exporters:
        zipkin:
          endpoint: "http://zipkin.zipkin.svc.cluster.local:9411/api/v2/spans"
      service:
        pipelines:
          traces:
            receivers: [otlp]
            processors: [batch]
            exporters: [zipkin]